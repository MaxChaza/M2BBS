CREATE TABLE EMPLOYE(
NoEmp number(4) CONSTRAINT pk_emp PRIMARY KEY,
NomEmp varchar(20),
Poste varchar(100), 
NoSup number(4) CONSTRAINT fk_emp REFERENCES EMPLOYE(NoEmp),
DateEmb Date,
Salaire number(6),
Commission number(6));

CREATE TABLE DEPARTEMENT(
NoDept number(4) CONSTRAINT pk_dept PRIMARY KEY,
NomDept varchar(100),
Lieu varchar(100),
Chef number(4) CONSTRAINT fk_dept REFERENCES EMPLOYE(NoEmp));

ALTER TABLE EMPLOYE
ADD NoDept CONSTRAINT fk_empdept REFERENCES DEPARTEMENT(NoDept);

CREATE TABLE PROJET(
NoProj number(4) PRIMARY KEY,
NomProj varchar(100),
Budget number(6));


CREATE TABLE TRAVAILLER(
NoEmp number(4) REFERENCES EMPLOYE(NoEmp),
NoProj number(4) REFERENCES PROJET(NoProj),
CONSTRAINT pk_trav PRIMARY KEY(NoEmp,NoProj)); 


DESC EMPLOYE;
DESC DEPARTEMENT;
DESC TRAVAILLER;
DESC PROJET;

INSERT INTO EMPLOYE(NoEmp, NomEmp, Poste, NoSup, DateEmb, Salaire, Commission) VALUES (1,'Mark','PDG',NULL,'29/09/2014',10000,0);
INSERT INTO EMPLOYE(NoEmp, NomEmp, Poste, NoSup, DateEmb, Salaire, Commission) VALUES (2,'Fabrice','Ouvrier',1,'29/09/2014',1500,0);
INSERT INTO EMPLOYE(NoEmp, NomEmp, Poste, NoSup, DateEmb, Salaire, Commission) VALUES (3,'Sara','Chercheur',1,'29/09/2014',3500,0);
INSERT INTO EMPLOYE(NoEmp, NomEmp, Poste, NoSup, DateEmb, Salaire, Commission) VALUES (4,'Floreal','Ingénieur',1,'29/09/2014',4001,0);
INSERT INTO EMPLOYE(NoEmp, NomEmp, Poste, NoSup, DateEmb, Salaire, Commission) VALUES (5,'Florie','Ingénieur',1,'29/09/2014',3000,0);
INSERT INTO EMPLOYE(NoEmp, NomEmp, Poste, NoSup, DateEmb, Salaire, Commission) VALUES (6,'Delase','Ingénieur',1,'29/09/2014',2500,0);
INSERT INTO EMPLOYE(NoEmp, NomEmp, Poste, NoSup, DateEmb, Salaire, Commission) VALUES (7,'Tong','Journaliste',4,'29/09/2014',2500,0);
INSERT INTO EMPLOYE(NoEmp, NomEmp, Poste, NoSup, DateEmb, Salaire, Commission) VALUES (8,'Nicolas','Chercheur',1,'29/09/2014',3500,0);
INSERT INTO EMPLOYE(NoEmp, NomEmp, Poste, NoSup, DateEmb, Salaire, Commission) VALUES (9,'Michel','Ouvrier',3,'29/09/2014',1500,0);
INSERT INTO EMPLOYE(NoEmp, NomEmp, Poste, NoSup, DateEmb, Salaire, Commission) VALUES (10,'Roux','Ouvrier',3,'29/09/2014',1500,0);


INSERT INTO DEPARTEMENT VALUES (1,'Direction','Toulouse',1);
INSERT INTO DEPARTEMENT VALUES (2,'Recherche','Toulouse',8);
INSERT INTO DEPARTEMENT VALUES (3,'Finances','Toulouse',4);
INSERT INTO DEPARTEMENT VALUES (4,'Production','Toulouse',2);
INSERT INTO DEPARTEMENT VALUES (30,'Relations Public','Toulouse',7);


UPDATE EMPLOYE SET NoDept = 1 WHERE NoEmp = 1;
UPDATE EMPLOYE SET NoDept = 4 WHERE NoEmp = 2;
UPDATE EMPLOYE SET NoDept = 2 WHERE NoEmp = 3;
UPDATE EMPLOYE SET NoDept = 3 WHERE NoEmp = 4;
UPDATE EMPLOYE SET NoDept = 3 WHERE NoEmp = 5;
UPDATE EMPLOYE SET NoDept = 3 WHERE NoEmp = 6;
UPDATE EMPLOYE SET NoDept = 30 WHERE NoEmp = 7;
UPDATE EMPLOYE SET NoDept = 2 WHERE NoEmp = 8;
UPDATE EMPLOYE SET NoDept = 4 WHERE NoEmp = 9;
UPDATE EMPLOYE SET NoDept = 4 WHERE NoEmp = 10;

INSERT INTO PROJET VALUES (1,'Alpha',45000);
INSERT INTO PROJET VALUES (2,'Beta',15000);
INSERT INTO PROJET VALUES (3,'Gamma',5000);
INSERT INTO PROJET VALUES (4,'Delta',10000);
INSERT INTO PROJET VALUES (5,'Epsilon',20000);


INSERT INTO TRAVAILLER VALUES (1,1);
INSERT INTO TRAVAILLER VALUES (1,2);
INSERT INTO TRAVAILLER VALUES (1,3);
INSERT INTO TRAVAILLER VALUES (1,4);
INSERT INTO TRAVAILLER VALUES (2,1);
INSERT INTO TRAVAILLER VALUES (2,3);
INSERT INTO TRAVAILLER VALUES (2,4);
INSERT INTO TRAVAILLER VALUES (3,1);
INSERT INTO TRAVAILLER VALUES (3,2);
INSERT INTO TRAVAILLER VALUES (3,3);
INSERT INTO TRAVAILLER VALUES (4,1);
INSERT INTO TRAVAILLER VALUES (4,2);
INSERT INTO TRAVAILLER VALUES (4,3);
INSERT INTO TRAVAILLER VALUES (5,1);
INSERT INTO TRAVAILLER VALUES (6,2);
INSERT INTO TRAVAILLER VALUES (6,3);
INSERT INTO TRAVAILLER VALUES (6,4);
INSERT INTO TRAVAILLER VALUES (7,1);
INSERT INTO TRAVAILLER VALUES (7,3);
INSERT INTO TRAVAILLER VALUES (7,4);
INSERT INTO TRAVAILLER VALUES (8,4);
INSERT INTO TRAVAILLER VALUES (9,3);
INSERT INTO TRAVAILLER VALUES (10,1);
INSERT INTO TRAVAILLER VALUES (10,3);

